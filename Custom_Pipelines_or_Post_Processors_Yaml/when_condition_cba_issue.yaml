
#743   .qa.h2o.dev - v0.8.2- before upgrade
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1
      # invoice
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1

      # id card
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false   


projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1

projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1

pageclass
source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1:download
name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1
    
    id card
source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1:download
name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1

invoice
source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1:download
name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1
        



#https://document-ai.az24071.qa-azure.h2o.dev/project/e00f18db-584e-4b57-9688-4659839ca911/published-pipelines
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.az24071.qa-azure.h2o.dev/v1alpha/projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/9220dc30-eb97-4e6c-88b1-ef2bf78de99d/versions/1:download
        name: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/9220dc30-eb97-4e6c-88b1-ef2bf78de99d/versions/1
    
      # invoice
      - source: https://ml-api.az24071.qa-azure.h2o.dev/v1alpha/projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/dbce619d-77c4-4e6e-bb38-c5ec1f29d285/versions/1:download
        name: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/dbce619d-77c4-4e6e-bb38-c5ec1f29d285/versions/1

      # id card
      - source: https://ml-api.az24071.qa-azure.h2o.dev/v1alpha/projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/c317155b-5895-4c61-ae36-788c4f329545/versions/1:download
        name: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/c317155b-5895-4c61-ae36-788c4f329545/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/9220dc30-eb97-4e6c-88b1-ef2bf78de99d/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/dbce619d-77c4-4e6e-bb38-c5ec1f29d285/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/e00f18db-584e-4b57-9688-4659839ca911/documentAI/models/c317155b-5895-4c61-ae36-788c4f329545/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false











#checked - workes fine - aws24071-upg-130l.qa.h2o.dev v0.8.1 - fail conditional pipelines before upgrade-121224
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/3affae82-e2b7-4a28-9203-8536b7f87320/versions/1:download
        name: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/3affae82-e2b7-4a28-9203-8536b7f87320/versions/1

      # invoice
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/dc4db88e-c137-4d20-b859-b849acf0a7c4/versions/1:download
        name: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/dc4db88e-c137-4d20-b859-b849acf0a7c4/versions/1
    
      # id card
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/ca1da945-8d9c-48bb-a4cf-c946fd484ebb/versions/1:download
        name: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/ca1da945-8d9c-48bb-a4cf-c946fd484ebb/versions/1
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/3affae82-e2b7-4a28-9203-8536b7f87320/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/dc4db88e-c137-4d20-b859-b849acf0a7c4/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/c8002a08-abbc-4281-b37d-c405f3744b8e/documentAI/models/ca1da945-8d9c-48bb-a4cf-c946fd484ebb/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false


# aws24111-131l.qa.h2o.dev 0.9.1
spec: 
  pipeline:
    artifacts:
      - version: ""
        source: https://ml-api.aws24111-131l.qa.h2o.dev/v1alpha/projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/4b09f82a-9421-45eb-9487-5a848e666161/versions/1:download
        name: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/4b09f82a-9421-45eb-9487-5a848e666161/versions/1
      - version: ""
        source: https://ml-api.aws24111-131l.qa.h2o.dev/v1alpha/projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/0edcdd60-4b03-44b2-bbe8-dc970b238740/versions/1:download
        name: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/0edcdd60-4b03-44b2-bbe8-dc970b238740/versions/1
      - version: ""
        source: https://ml-api.aws24111-131l.qa.h2o.dev/v1alpha/projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/5e280694-667d-4ed9-815e-8f063466259c/versions/1:download
        name: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/5e280694-667d-4ed9-815e-8f063466259c/versions/1
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/4b09f82a-9421-45eb-9487-5a848e666161/versions/1
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/0edcdd60-4b03-44b2-bbe8-dc970b238740/versions/1
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='invoice':
                  action=PROCESS
                else:
                  action=SKIP_PAGE
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/0b5894f2-befe-4f9c-a160-ed1e497ed66b/documentAI/models/5e280694-667d-4ed9-815e-8f063466259c/versions/1
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='driver-license':
                  action=PROCESS
                else:
                  action=SKIP_PAGE
      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: true



#document-ai.v9.replicated.docai.h2o.dev - v082
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.v9.replicated.docai.h2o.dev/v1alpha/projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/ac7a3851-b784-4822-881b-72d4f2396941/versions/1:download
        name: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/ac7a3851-b784-4822-881b-72d4f2396941/versions/1

      # invoice
      - source: https://ml-api.v9.replicated.docai.h2o.dev/v1alpha/projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/a360ea7d-26ec-416e-ba7c-a5ffea1fe8b3/versions/1:download
        name: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/a360ea7d-26ec-416e-ba7c-a5ffea1fe8b3/versions/1
    
      # id card
      - source: https://ml-api.v9.replicated.docai.h2o.dev/v1alpha/projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/3b87e328-f0eb-4902-8708-6d732e2cbffa/versions/1:download
        name: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/3b87e328-f0eb-4902-8708-6d732e2cbffa/versions/1
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/ac7a3851-b784-4822-881b-72d4f2396941/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/a360ea7d-26ec-416e-ba7c-a5ffea1fe8b3/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/b98c288b-d487-4eb1-878f-7291644e688f/documentAI/models/3b87e328-f0eb-4902-8708-6d732e2cbffa/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false



#internal.dedicated.qa.h2o.dev
  spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.internal.dedicated.h2o.ai/v1alpha/projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/32a35596-4aa6-4254-8cc6-314648e86ed6/versions/1:download
        name: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/32a35596-4aa6-4254-8cc6-314648e86ed6/versions/1
    
      # invoice
      - source: https://ml-api.internal.dedicated.h2o.ai/v1alpha/projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/66753fca-6b9e-4767-a95e-5ff89bfc0487/versions/1:download
        name: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/66753fca-6b9e-4767-a95e-5ff89bfc0487/versions/1
    
      # id card
      - source: https://ml-api.internal.dedicated.h2o.ai/v1alpha/projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/2a8abf55-cabd-4040-9cc4-296f03770283/versions/1:download
        name: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/2a8abf55-cabd-4040-9cc4-296f03770283/versions/1
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/32a35596-4aa6-4254-8cc6-314648e86ed6/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/66753fca-6b9e-4767-a95e-5ff89bfc0487/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/bfd5841e-ce1c-4677-b55b-61a344e7ca17/documentAI/models/2a8abf55-cabd-4040-9cc4-296f03770283/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false


#7342184.qa.h2o.dev
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1
    
      # invoice
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1
   
      # id card
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1:download
        name: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1
    
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/b1c5efea-b392-4168-ba36-5f8fc00c0725/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/d44ef265-409b-4e80-b1ed-8529a9e2f4aa/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/0781bf79-10af-4ed1-9200-a7a9ec4d490b/documentAI/models/634faafb-9087-4db0-8cec-d35a4689e14f/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false




#document-ai.v8.replicated.docai.h2o.dev - v7
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.v8.replicated.docai.h2o.dev/v1alpha/projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/06d6ed0b-3b64-4bbe-9e85-fbd031c433b9/versions/1:download
        name: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/06d6ed0b-3b64-4bbe-9e85-fbd031c433b9/versions/1

      # invoice
      - source: https://ml-api.v8.replicated.docai.h2o.dev/v1alpha/projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/b2b42bba-f93a-45ce-879a-91d86b2bc1b0/versions/1:download
        name: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/b2b42bba-f93a-45ce-879a-91d86b2bc1b0/versions/1
    
      # id card
      - source: https://ml-api.v8.replicated.docai.h2o.dev/v1alpha/projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/cf7748f4-bf34-4883-9681-3629fb81a003/versions/1:download
        name: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/cf7748f4-bf34-4883-9681-3629fb81a003/versions/1
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/06d6ed0b-3b64-4bbe-9e85-fbd031c433b9/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/b2b42bba-f93a-45ce-879a-91d86b2bc1b0/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/1066e7b3-056f-408c-9e74-62fd3bed4b1a/documentAI/models/cf7748f4-bf34-4883-9681-3629fb81a003/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false
    

#aws23103.qa.h2o.dev
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws23103.qa.h2o.dev/v1alpha/projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/e05df68f-6522-421c-b50c-b221fb5c46da/versions/1:download
        name: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/e05df68f-6522-421c-b50c-b221fb5c46da/versions/1

      # invoice
      - source: https://ml-api.aws23103.qa.h2o.dev/v1alpha/projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/a099b73b-4c32-4d46-b93b-06485059c330/versions/1:download
        name: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/a099b73b-4c32-4d46-b93b-06485059c330/versions/1

      # id card
      - source: https://ml-api.aws23103.qa.h2o.dev/v1alpha/projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/0d59397c-a12e-4f49-93f5-6e5d023463e1/versions/1:download
        name: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/0d59397c-a12e-4f49-93f5-6e5d023463e1/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/e05df68f-6522-421c-b50c-b221fb5c46da/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/a099b73b-4c32-4d46-b93b-06485059c330/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/98bb6fd9-2b02-464a-8641-81be8deeacc4/documentAI/models/0d59397c-a12e-4f49-93f5-6e5d023463e1/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false


#aws23102.qa.h2o.dev
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/57d3faac-e277-4ded-a952-d92aac75504f/versions/1:download
        name: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/57d3faac-e277-4ded-a952-d92aac75504f/versions/1

      # invoice
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/43da0354-035e-4037-8f4b-87e0405a96a5/versions/1:download
        name: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/43da0354-035e-4037-8f4b-87e0405a96a5/versions/1

      # id card
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/be582881-38dc-488b-bc42-a3d0b993a98a/versions/1:download
        name: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/be582881-38dc-488b-bc42-a3d0b993a98a/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/57d3faac-e277-4ded-a952-d92aac75504f/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/43da0354-035e-4037-8f4b-87e0405a96a5/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/09930ff1-a7f8-40bc-adcf-df3ee627a576/documentAI/models/be582881-38dc-488b-bc42-a3d0b993a98a/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false


#aws23102.qa.h2o.dev project 1022_
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/1632bb4a-cbcf-4b54-9212-bb7c0e8ce7bf/versions/1:download
        name: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/1632bb4a-cbcf-4b54-9212-bb7c0e8ce7bf/versions/1

      # invoice
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/2b6e3167-ddc8-4589-b705-bbb414b977d0/versions/1:download
        name: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/2b6e3167-ddc8-4589-b705-bbb414b977d0/versions/1

      # id card
      - source: https://ml-api.aws23102-upg-126l.qa.h2o.dev/v1alpha/projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/a31994a5-32a1-4e5c-bb6d-27176dad8fc3/versions/1:download
        name: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/a31994a5-32a1-4e5c-bb6d-27176dad8fc3/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/1632bb4a-cbcf-4b54-9212-bb7c0e8ce7bf/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/2b6e3167-ddc8-4589-b705-bbb414b977d0/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/a2ba9f6d-7bab-47d2-becd-44f729e17bb2/documentAI/models/a31994a5-32a1-4e5c-bb6d-27176dad8fc3/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false  


#aws24 project 1025
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/9f2475db-a84f-48f9-a6ae-31580c4869f6/versions/1:download
        name: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/9f2475db-a84f-48f9-a6ae-31580c4869f6/versions/1
      
      # invoice
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/19a1b9d2-2145-4efc-8e0f-dfc3bee0d0fc/versions/1:download
        name: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/19a1b9d2-2145-4efc-8e0f-dfc3bee0d0fc/versions/1

      # id card
      - source: https://ml-api.aws24071-upg-130l.qa.h2o.dev/v1alpha/projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/c7a33a4a-4863-4c60-87c2-546ed484fb45/versions/1:download
        name: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/c7a33a4a-4863-4c60-87c2-546ed484fb45/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/9f2475db-a84f-48f9-a6ae-31580c4869f6/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/19a1b9d2-2145-4efc-8e0f-dfc3bee0d0fc/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/c71779fd-8983-442b-a6f8-10575d5207f5/documentAI/models/c7a33a4a-4863-4c60-87c2-546ed484fb45/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false  


#24072
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.aws24072.qa.h2o.dev/v1alpha/projects/64926057-824c-4434-bb34-cc06be7a867d/documentAI/models/62de9984-303c-467c-badf-c79623ddb0e7/versions/1:download
        name: projects/62de9984-303c-467c-badf-c79623ddb0e7/versions/1
    
      # invoice
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/630d4606-b814-4c8f-a7bb-22fcde72b5d2/versions/1:download
        name: projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/630d4606-b814-4c8f-a7bb-22fcde72b5d2/versions/1
   
      # id card
      - source: https://ml-api.7342184.dedicated.h2o.ai/v1alpha/projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/a9401a91-0011-4f71-8750-da38e59c71ee/versions/1:download
        name: projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/a9401a91-0011-4f71-8750-da38e59c71ee/versions/1
    
    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/eeb61015-37b5-40c0-b98f-2c83f104c51d/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/630d4606-b814-4c8f-a7bb-22fcde72b5d2/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/5a724fb2-dc19-43f1-a39f-ef4d5d11931a/documentAI/models/a9401a91-0011-4f71-8750-da38e59c71ee/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false





#checked - works fine - document-ai.v08.replicated.docai.h2o.dev - v0.8.3- before upgrade
spec:
  pipeline:
    artifacts:

      # page class model (invoice, drivers-license)
      - source: https://ml-api.v08.replicated.docai.h2o.dev/v1alpha/projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/777de687-a876-4058-ba57-c6b6a9d4ee8c/versions/1:download
        name: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/777de687-a876-4058-ba57-c6b6a9d4ee8c/versions/1

      # invoice
      - source: https://ml-api.v08.replicated.docai.h2o.dev/v1alpha/projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/26951596-0137-4682-bdec-cdafb3d0cf3f/versions/1:download
        name: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/26951596-0137-4682-bdec-cdafb3d0cf3f/versions/1

      # id card
      - source: https://ml-api.v08.replicated.docai.h2o.dev/v1alpha/projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/f9e5a987-4e90-4008-8418-c3a6293b2b96/versions/1:download
        name: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/f9e5a987-4e90-4008-8418-c3a6293b2b96/versions/1

    output_annoset_format:
      options: {}
    steps:
      - tasks:
          - name: Intake
            type: PipelineTask
            class: argus.processors.ocr_processors.Intake
            parameters:
              root_docs_path: /code/workdir
              follow_symlinks: true
      - tasks:
          - name: PdfExtract
            type: PipelineTask
            class: argus.processors.ocr_processors.PdfTextExtract
      - tasks:
          - name: ImageNormalize
            class: argus.processors.ocr_processors.NormalizeImages
            parameters:
              resample_to_dpi: 300
              normalize_image_format: .jpg
      - tasks:
          - name: OCR
            class: argus.processors.ocr_processors.GenericOcr
            parameters:
              ocr_style: BestTextExtract
      - tasks:
          - name: Predict
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              artifacts:
                base_model_name_or_path: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/777de687-a876-4058-ba57-c6b6a9d4ee8c/versions/1

      - tasks:
          - name: "Predict_token_invoice"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class','drivers-license')=='invoice':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/26951596-0137-4682-bdec-cdafb3d0cf3f/versions/1

      - tasks:
          - name: "Predict_token_drivers_license"
            class: argus.processors.train_eval_processors.TrainEvalProcessor
            parameters:
              predict_only: true
              when: |
                p=pages[0]
                if p.attributes.get('page_class')=='drivers-license':
                    action=PROCESS
                else:
                    action=SKIP_PAGE
              artifacts:
                base_model_name_or_path: projects/6f2fce3b-19e0-4d3a-8d09-f73e4e7bde62/documentAI/models/f9e5a987-4e90-4008-8418-c3a6293b2b96/versions/1

      - tasks:
          - name: PostProcess
            class: argus.processors.post_processors.generic_post_processor.PostProcessor
            parameters:
              output_format: json
              labeling_threshold: 0.8
    write_all_steps: false
    cache_processors: false   
    
    



